{"ast":null,"code":"import _asyncToGenerator from\"D:\\\\Real-Tic-Tac-Toe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _objectSpread from\"D:\\\\Real-Tic-Tac-Toe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"D:\\\\Real-Tic-Tac-Toe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Real-Tic-Tac-Toe\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import{TextField,Button}from\"@mui/material\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import $ from\"jquery\";// import axios from \"axios\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({room:\"\",client:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];function func(event){setState(function(prev){console.log(event.target.name);if(event.target.name===\"room\")return _objectSpread(_objectSpread({},prev),{},{room:event.target.value});else{return _objectSpread(_objectSpread({},prev),{},{client:event.target.value});}});}function makeRequest(_x){return _makeRequest.apply(this,arguments);}function _makeRequest(){_makeRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return $.ajax({url:\"https://api-tictactoe-by-sp.online/\",data:data,method:\"POST\"});case 3:result=_context2.sent;return _context2.abrupt(\"return\",result);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _makeRequest.apply(this,arguments);}function login(){localStorage.setItem(\"room\",state.room);localStorage.setItem(\"name\",state.client);makeRequest({group_name:state.room}).then(function(a){console.log(a);if(a.is_first){localStorage.setItem(\"sym\",\"X\");}else{localStorage.setItem(\"sym\",\"O\");}if(!a.both){navigate(\"/\");}else{alert(\"The room is full\");}});}var generateRoom=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return $.ajax({url:\"https://api-tictactoe-by-sp.online/unique/\",method:\"GET\"});case 2:result=_context.sent;setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{room:result.room});});navigator.clipboard.writeText(result.room);// console.log(result.room);\ncase 5:case\"end\":return _context.stop();}}},_callee);}));return function generateRoom(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{class:\"total_bg\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100vh\",flexDirection:\"column\",zIndex:\"1000\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#ffffffd0\",display:\"flex\",flexDirection:\"column\",padding:\"20px\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"Room Code\",name:\"room\",onChange:func,value:state.room}),/*#__PURE__*/_jsx(Button,{color:\"success\",variant:\"contained\",style:{marginTop:\"10px\"},onClick:generateRoom,children:\"Generate & Copy Room Code\"}),/*#__PURE__*/_jsx(TextField,{label:\"Name\",name:\"name\",style:{marginTop:\"10px\"},onChange:func}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",style:{marginTop:\"10px\"},onClick:login,children:\"Join\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"bg_animation\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"glowing\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"glowing\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"glowing\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"glow1\"})]})]})]});};export default Login;","map":{"version":3,"sources":["D:/Real-Tic-Tac-Toe/client-application/src/features/Login.jsx"],"names":["React","TextField","Button","useState","useNavigate","$","Login","navigate","room","client","state","setState","func","event","prev","console","log","target","name","value","makeRequest","data","ajax","url","method","result","login","localStorage","setItem","group_name","then","a","is_first","both","alert","generateRoom","navigator","clipboard","writeText","display","alignItems","justifyContent","height","flexDirection","zIndex","backgroundColor","padding","borderRadius","marginTop","width","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { TextField, Button } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport $ from \"jquery\";\r\n\r\n// import axios from \"axios\";\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [state, setState] = useState({ room: \"\", client: \"\" });\r\n  function func(event) {\r\n    setState((prev) => {\r\n      console.log(event.target.name);\r\n      if (event.target.name === \"room\")\r\n        return { ...prev, room: event.target.value };\r\n      else {\r\n        return { ...prev, client: event.target.value };\r\n      }\r\n    });\r\n  }\r\n\r\n  async function makeRequest(data) {\r\n    try {\r\n      const result = await $.ajax({\r\n        url: \"https://api-tictactoe-by-sp.online/\",\r\n        data: data,\r\n        method: \"POST\",\r\n      });\r\n      return result;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n  function login() {\r\n    localStorage.setItem(\"room\", state.room);\r\n    localStorage.setItem(\"name\", state.client);\r\n\r\n    makeRequest({ group_name: state.room }).then((a) => {\r\n      console.log(a);\r\n      if (a.is_first) {\r\n        localStorage.setItem(\"sym\", \"X\");\r\n      } else {\r\n        localStorage.setItem(\"sym\", \"O\");\r\n      }\r\n      if (!a.both) {\r\n        navigate(\"/\");\r\n      } else {\r\n        alert(\"The room is full\");\r\n      }\r\n    });\r\n  }\r\n  const generateRoom = async () => {\r\n    const result = await $.ajax({\r\n      url: \"https://api-tictactoe-by-sp.online/unique/\",\r\n      method: \"GET\",\r\n    });\r\n\r\n    setState((prev) => {\r\n      return { ...prev, room: result.room };\r\n    });\r\n    navigator.clipboard.writeText(result.room);\r\n    // console.log(result.room);\r\n  };\r\n  return (\r\n    <div class=\"total_bg\">\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          height: \"100vh\",\r\n          flexDirection: \"column\",\r\n          zIndex: \"1000\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#ffffffd0\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            padding: \"20px\",\r\n            borderRadius: \"10px\",\r\n          }}\r\n        >\r\n          <TextField\r\n            label=\"Room Code\"\r\n            name=\"room\"\r\n            onChange={func}\r\n            value={state.room}\r\n          />\r\n          <Button\r\n            color=\"success\"\r\n            variant=\"contained\"\r\n            style={{ marginTop: \"10px\" }}\r\n            onClick={generateRoom}\r\n          >\r\n            {`Generate & Copy Room Code`}\r\n          </Button>\r\n          <TextField\r\n            label=\"Name\"\r\n            name=\"name\"\r\n            style={{ marginTop: \"10px\" }}\r\n            onChange={func}\r\n          />\r\n          <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              style={{ marginTop: \"10px\" }}\r\n              onClick={login}\r\n            >\r\n              Join\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"bg_animation\">\r\n        <div class=\"glowing\">\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n        </div>\r\n        <div class=\"glowing\">\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n        </div>\r\n        <div class=\"glowing\">\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n          <span class=\"glow1\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}